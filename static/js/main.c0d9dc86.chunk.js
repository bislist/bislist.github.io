(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t,n){},15:function(e,t,n){"use strict";n.r(t);var s=n(0),a=n.n(s),i=n(7),c=n.n(i),l=n(1),o=n(2),r=n(4),p=n(3),u=n(5),d=(n(14),function(e){function t(){return Object(l.a)(this,t),Object(r.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return a.a.createElement("div",{className:this.props.selectedClass===this.props.wowClass.id?"icon inline selected":"icon inline",onClick:function(){return e.props.handleSelectClass(e.props.wowClass)},style:{backgroundImage:"url("+this.props.wowClass.img+")"}})}}]),t}(a.a.Component)),h=function(e){function t(){return Object(l.a)(this,t),Object(r.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes.map(function(t){return a.a.createElement(d,{key:t.id,wowClass:t,handleSelectClass:e.props.handleSelectClass,selectedClass:e.props.selectedClass})});return a.a.createElement("div",null,t)}}]),t}(a.a.Component),m=function(e){function t(){return Object(l.a)(this,t),Object(r.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return a.a.createElement("div",{className:this.props.selectedSpec===this.props.spec.id?"icon small inline selected":"icon small inline",onClick:function(){return e.props.handleSelectSpec(e.props.spec)},style:{backgroundImage:"url("+this.props.spec.img+")"}})}}]),t}(a.a.Component),f=function(e){function t(){return Object(l.a)(this,t),Object(r.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.props.specs.map(function(t){return a.a.createElement(m,{key:t.id,spec:t,handleSelectSpec:e.props.handleSelectSpec,selectedSpec:e.props.selectedSpec})});return a.a.createElement("div",{className:"menu"},t)}}]),t}(a.a.Component),b=function(e){function t(){return Object(l.a)(this,t),Object(r.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return a.a.createElement("div",{className:this.props.selectedItem===this.props.item.itemId?"icon inline selected":this.props.item.stage1?"icon inline":"icon inline unavailable",onClick:function(){return e.props.handleSelectItem(e.props.item)},style:{backgroundImage:"url(https://classicdb.ch/images/icons/large/"+this.props.item.icon+".jpg)"}})}}]),t}(a.a.Component),v=function(e){function t(){return Object(l.a)(this,t),Object(r.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return a.a.createElement("div",{className:"row"},a.a.createElement("div",{className:"icon inline",style:{backgroundImage:"url("+this.props.slot.img+")"}}),this.props.items.map(function(t){return a.a.createElement(b,{key:t.id,item:t,selectedItem:e.props.selectedItem,handleSelectItem:e.props.handleSelectItem})}))}}]),t}(a.a.Component),j=function(e){function t(){return Object(l.a)(this,t),Object(r.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.props.slots.map(function(t){return e.props.items.find(function(e){return e.id===t.id})&&a.a.createElement("div",{key:t.id},a.a.createElement(v,{slot:t,items:e.props.items.find(function(e){return e.id===t.id}).items,handleSelectItem:e.props.handleSelectItem,selectedItem:e.props.selectedItem}))});return a.a.createElement("div",{className:"itemColumn"},t)}}]),t}(a.a.Component),y=function(e){function t(){return Object(l.a)(this,t),Object(r.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=[],t=[];return this.props.slots.map(function(n){return n.id<9?e.push(n):t.push(n)}),a.a.createElement("div",{className:"flexBox"},a.a.createElement(j,{slots:e,items:this.props.items,selectedItem:this.props.selectedItem,handleSelectItem:this.props.handleSelectItem}),a.a.createElement("div",{className:"separator"}),a.a.createElement(j,{slots:t,items:this.props.items,selectedItem:this.props.selectedItem,handleSelectItem:this.props.handleSelectItem}))}}]),t}(a.a.Component),O=function(e){function t(){return Object(l.a)(this,t),Object(r.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{className:"tooltip",dangerouslySetInnerHTML:{__html:this.props.tooltip}})}}]),t}(s.Component),S=function(e){function t(){return Object(l.a)(this,t),Object(r.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{className:"tooltip"},a.a.createElement("table",{className:"shrink"},a.a.createElement("tbody",null,a.a.createElement("tr",null,a.a.createElement("td",{className:"info"},this.props.info.location?this.props.info.location:null,this.props.info.instance?this.props.info.instance+" - "+this.props.info.boss:null,a.a.createElement("br",null),this.props.info.dropRate?this.props.info.dropRate:null),a.a.createElement("th",{style:{backgroundPosition:"right top"}})),a.a.createElement("tr",null,a.a.createElement("th",{style:{backgroundPosition:"left bottom"}}),a.a.createElement("th",{style:{backgroundPosition:"right bottom"}})))))}}]),t}(s.Component),g=function(e){function t(){return Object(l.a)(this,t),Object(r.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{className:"tooltip"},a.a.createElement("table",{className:"shrink"},a.a.createElement("tbody",null,a.a.createElement("tr",null,a.a.createElement("td",{className:"info"},"Loading..."),a.a.createElement("th",{style:{backgroundPosition:"right top"}})),a.a.createElement("tr",null,a.a.createElement("th",{style:{backgroundPosition:"left bottom"}}),a.a.createElement("th",{style:{backgroundPosition:"right bottom"}})))))}}]),t}(s.Component),k=function(e){function t(){return Object(l.a)(this,t),Object(r.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{className:"tooltipWrapper"},a.a.createElement(O,{tooltip:this.props.tooltip}),this.props.info?a.a.createElement(S,{info:this.props.info}):null,this.props.isLoading?a.a.createElement(g,null):null)}}]),t}(s.Component),I=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(r.a)(this,Object(p.a)(t).call(this,e))).handleSelectClass=function(e){n.resetState(),n.setState({selectedClass:e.id}),n.getSpecs(e.specs)},n.handleSelectSpec=function(e){n.resetState(),n.setState({selectedSpec:e.id}),n.getItems()},n.handleSelectItem=function(e){n.setState({selectedItem:e.itemId}),n.getItem(e)},n.state={classes:[],specs:[],slots:[],items:[],leftSlotIcons:[],rightSlotIcons:[],activeTooltip:"",activeInfo:"",selectedClass:"",selectedSpec:"",selectedItem:"",loading:!1},n}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.getClass(),this.getSlots()}},{key:"findClass",value:function(e){return function(t){return t.id===e}}},{key:"findSpec",value:function(e){return function(t){return t.id===e}}},{key:"test",value:function(){var e=this;fetch("./data.json").then(function(e){return e.json()}).then(function(t){var n=[{class:1,spec:1},{class:2,spec:3},{class:2,spec:4}],s=[];for(var a in n){var i=t.find(e.findClass(n[a].class)).specs.find(e.findSpec(n[a].spec));for(var c in i.slots)for(var l in i.slots[c].items){var o=i.slots[c].items[l];if(o.bossId){var r={bossId:o.bossId,itemId:o.itemId,itemName:o.name,quality:o.quality,icon:o.icon,specIcon:i.img};s.push(r)}}}console.log(s)})}},{key:"resetState",value:function(){this.setState({items:[],activeTooltip:"",activeInfo:"",selectedSpec:"",selectedItem:""})}},{key:"getClass",value:function(){var e=this;fetch("./data.json").then(function(e){return e.json()}).then(function(t){var n=[];for(var s in t)n.push(t[s]);e.setState({classes:n})})}},{key:"getSpecs",value:function(e){this.setState({specs:e}),1===e.length&&(this.setState({selectedSpec:e[0].id}),this.getItems())}},{key:"getSlots",value:function(){var e=this;fetch("./slots.json").then(function(e){return e.json()}).then(function(t){e.setState({slots:t})})}},{key:"getItems",value:function(){var e=this;fetch("./data.json").then(function(e){return e.json()}).then(function(t){var n=t.find(function(t){return t.id===e.state.selectedClass}).specs.find(function(t){return t.id===e.state.selectedSpec}),s=[];for(var a in n.slots)s.push(n.slots[a]);e.setState({items:s})})}},{key:"toggleLoading",value:function(e){this.setState({loading:e,activeTooltip:"",activeInfo:""})}},{key:"fixTooltip",value:function(e){return e=(e=(e=(e=(e=(e=(e=e.replace(/\\/g,"")).replace(/href="(.*?)"/g,"")).replace('<table width="100%">','<table width="100%"><tbody>')).replace("<table><tr><td><b",'<table class="shrink"><tbody><tr><td><table width="100%"><tbody><tr><td><b')).replace("</th></tr></table>","</th></tr></tbody></table>")).replace("</td></tr></table><table>","</td></tr></tbody></table><table><tbody>")).replace("></td></tr></table>",'></td></tr></tbody></table></td><th style="background-position: right top;"></th></tr><tr><th style="background-position: left bottom;"></th><th style="background-position: right bottom;"></th></tr></tbody></table>')}},{key:"getItem",value:function(e){this.setState({activeTooltip:e.tooltip,activeInfo:e})}},{key:"render",value:function(){return a.a.createElement("div",{className:"App"},a.a.createElement(h,{classes:this.state.classes,selectedClass:this.state.selectedClass,handleSelectClass:this.handleSelectClass}),a.a.createElement(f,{specs:this.state.specs,selectedSpec:this.state.selectedSpec,handleSelectSpec:this.handleSelectSpec}),a.a.createElement("div",{className:"flexBox"},a.a.createElement(y,{slots:this.state.slots,items:this.state.items,selectedItem:this.state.selectedItem,handleSelectItem:this.handleSelectItem}),a.a.createElement("div",{className:"separator"}),a.a.createElement(k,{tooltip:this.state.activeTooltip,info:this.state.activeInfo,isLoading:this.state.loading}),a.a.createElement("div",{className:"separator"})))}}]),t}(a.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(I,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},8:function(e,t,n){e.exports=n(15)}},[[8,1,2]]]);
//# sourceMappingURL=main.c0d9dc86.chunk.js.map