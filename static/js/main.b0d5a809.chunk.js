(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t,n){},23:function(e,t,n){e.exports=n(52)},52:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n.n(a),i=n(13),c=n.n(i),r=n(1),l=n(2),o=n(4),u=n(3),p=n(5),m=(n(14),function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:this.props.selectedClass===this.props.wowClass.id?"icon inline selected":"icon inline",onClick:function(){return e.props.handleSelectClass(e.props.wowClass)},style:{backgroundImage:"url("+this.props.wowClass.img+")"}})}}]),t}(s.a.Component)),h=function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes.map(function(t){return s.a.createElement(m,{key:t.id,wowClass:t,handleSelectClass:e.props.handleSelectClass,selectedClass:e.props.selectedClass})});return s.a.createElement("div",null,t)}}]),t}(s.a.Component),d=function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:this.props.selectedSpec===this.props.spec.id?"icon small inline selected":"icon small inline",onClick:function(){return e.props.handleSelectSpec(e.props.spec)},style:{backgroundImage:"url("+this.props.spec.img+")"}})}}]),t}(s.a.Component),f=function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.specs.map(function(t){return s.a.createElement(d,{key:t.id,spec:t,handleSelectSpec:e.props.handleSelectSpec,selectedSpec:e.props.selectedSpec})});return s.a.createElement("div",{className:"menu"},t)}}]),t}(s.a.Component),b=function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:this.props.selectedItem===this.props.item.itemId?"icon inline selected":this.props.item.stage1?"icon inline":"icon inline unavailable",onClick:function(){return e.props.handleSelectItem(e.props.item)},style:{backgroundImage:"url(https://classicdb.ch/images/icons/large/"+this.props.item.icon+".jpg)"}})}}]),t}(s.a.Component),v=function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"icon inline",style:{backgroundImage:"url("+this.props.slot.img+")"}}),this.props.items.map(function(t){return s.a.createElement(b,{key:t.id,item:t,selectedItem:e.props.selectedItem,handleSelectItem:e.props.handleSelectItem})}))}}]),t}(s.a.Component),j=function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.slots.map(function(t){return e.props.items.find(function(e){return e.id===t.id})&&s.a.createElement("div",{key:t.id},s.a.createElement(v,{slot:t,items:e.props.items.find(function(e){return e.id===t.id}).items,handleSelectItem:e.props.handleSelectItem,selectedItem:e.props.selectedItem}))});return s.a.createElement("div",{className:"itemColumn"},t)}}]),t}(s.a.Component),O=function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=[],t=[];return this.props.slots.map(function(n){return n.id<9?e.push(n):t.push(n)}),s.a.createElement("div",{className:"flexBox"},s.a.createElement(j,{slots:e,items:this.props.items,selectedItem:this.props.selectedItem,handleSelectItem:this.props.handleSelectItem}),s.a.createElement("div",{className:"separator"}),s.a.createElement(j,{slots:t,items:this.props.items,selectedItem:this.props.selectedItem,handleSelectItem:this.props.handleSelectItem}))}}]),t}(s.a.Component),y=function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"tooltip",dangerouslySetInnerHTML:{__html:this.props.tooltip}})}}]),t}(a.Component),g=function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"tooltip"},s.a.createElement("table",{className:"shrink"},s.a.createElement("tbody",null,s.a.createElement("tr",null,s.a.createElement("td",{className:"info"},this.props.info.location?this.props.info.location:null,this.props.info.instance?this.props.info.instance+" - "+this.props.info.boss:null,s.a.createElement("br",null),this.props.info.dropRate?this.props.info.dropRate:null),s.a.createElement("th",{style:{backgroundPosition:"right top"}})),s.a.createElement("tr",null,s.a.createElement("th",{style:{backgroundPosition:"left bottom"}}),s.a.createElement("th",{style:{backgroundPosition:"right bottom"}})))))}}]),t}(a.Component),E=function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"tooltip"},s.a.createElement("table",{className:"shrink"},s.a.createElement("tbody",null,s.a.createElement("tr",null,s.a.createElement("td",{className:"info"},"Loading..."),s.a.createElement("th",{style:{backgroundPosition:"right top"}})),s.a.createElement("tr",null,s.a.createElement("th",{style:{backgroundPosition:"left bottom"}}),s.a.createElement("th",{style:{backgroundPosition:"right bottom"}})))))}}]),t}(a.Component),I=function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"tooltipWrapper"},s.a.createElement(y,{tooltip:this.props.tooltip}),this.props.info?s.a.createElement(g,{info:this.props.info}):null,this.props.isLoading?s.a.createElement(E,null):null)}}]),t}(a.Component),S=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(o.a)(this,Object(u.a)(t).call(this,e))).handleSelectClass=function(e){n.resetState(),n.setState({selectedClass:e.id}),n.getSpecs(e.specs)},n.handleSelectSpec=function(e){n.resetState(),n.setState({selectedSpec:e.id}),n.getItems()},n.handleSelectItem=function(e){n.setState({selectedItem:e.itemId}),n.getItem(e)},n.state={classes:[],specs:[],slots:[],items:[],leftSlotIcons:[],rightSlotIcons:[],activeTooltip:"",activeInfo:"",selectedClass:"",selectedSpec:"",selectedItem:"",loading:!1},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.getClass(),this.getSlots()}},{key:"resetState",value:function(){this.setState({items:[],activeTooltip:"",activeInfo:"",selectedSpec:"",selectedItem:""})}},{key:"getClass",value:function(){var e=this;fetch("./data.json").then(function(e){return e.json()}).then(function(t){var n=[];for(var a in t)n.push(t[a]);e.setState({classes:n})})}},{key:"getSpecs",value:function(e){this.setState({specs:e}),1===e.length&&(this.setState({selectedSpec:e[0].id}),this.getItems())}},{key:"getSlots",value:function(){var e=this;fetch("./slots.json").then(function(e){return e.json()}).then(function(t){e.setState({slots:t})})}},{key:"getItems",value:function(){var e=this;fetch("./data.json").then(function(e){return e.json()}).then(function(t){var n=t.find(function(t){return t.id===e.state.selectedClass}).specs.find(function(t){return t.id===e.state.selectedSpec}),a=[];for(var s in n.slots)a.push(n.slots[s]);e.setState({items:a})})}},{key:"toggleLoading",value:function(e){this.setState({loading:e,activeTooltip:"",activeInfo:""})}},{key:"fixTooltip",value:function(e){return e=(e=(e=(e=(e=(e=(e=e.replace(/\\/g,"")).replace(/href="(.*?)"/g,"")).replace('<table width="100%">','<table width="100%"><tbody>')).replace("<table><tr><td><b",'<table class="shrink"><tbody><tr><td><table width="100%"><tbody><tr><td><b')).replace("</th></tr></table>","</th></tr></tbody></table>")).replace("</td></tr></table><table>","</td></tr></tbody></table><table><tbody>")).replace("></td></tr></table>",'></td></tr></tbody></table></td><th style="background-position: right top;"></th></tr><tr><th style="background-position: left bottom;"></th><th style="background-position: right bottom;"></th></tr></tbody></table>')}},{key:"getItem",value:function(e){this.setState({activeTooltip:e.tooltip,activeInfo:e})}},{key:"render",value:function(){return s.a.createElement("div",{className:"App"},s.a.createElement(h,{classes:this.state.classes,selectedClass:this.state.selectedClass,handleSelectClass:this.handleSelectClass}),s.a.createElement(f,{specs:this.state.specs,selectedSpec:this.state.selectedSpec,handleSelectSpec:this.handleSelectSpec}),s.a.createElement("div",{className:"flexBox"},s.a.createElement(O,{slots:this.state.slots,items:this.state.items,selectedItem:this.state.selectedItem,handleSelectItem:this.handleSelectItem}),s.a.createElement("div",{className:"separator"}),s.a.createElement(I,{tooltip:this.state.activeTooltip,info:this.state.activeInfo,isLoading:this.state.loading}),s.a.createElement("div",{className:"separator"})))}}]),t}(s.a.Component),k=function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return s.a.createElement("li",null,s.a.createElement("div",{className:"icon small inline",style:{backgroundImage:"url("+this.props.item.specIcon+")"}}),this.props.item.specIcon2&&s.a.createElement("div",{className:"icon small inline",style:{backgroundImage:"url("+this.props.item.specIcon2+")"}}),s.a.createElement("div",{className:"icon small inline",style:{backgroundImage:"url(https://classicdb.ch/images/icons/medium/"+this.props.item.icon+".jpg)"}}),s.a.createElement("div",{className:"inline",style:{verticalAlign:"top"}},s.a.createElement("div",{className:"q"+this.props.item.quality},this.props.item.itemName),s.a.createElement("div",null,this.props.item.dropRate)))}}]),t}(s.a.Component),C=function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.boss.items.map(function(e){return s.a.createElement(k,{key:e.itemId,item:e})});return s.a.createElement("li",null,this.props.boss.name,s.a.createElement("ul",null,e))}}]),t}(s.a.Component),N=function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.instance.bosses.map(function(e){return s.a.createElement(C,{key:e.id,boss:e})});return s.a.createElement("li",null,this.props.instance.name,s.a.createElement("ul",null,e))}}]),t}(s.a.Component),w=function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.instances.map(function(e){return s.a.createElement(N,{key:e.id,instance:e})});return s.a.createElement("ul",null,e)}}]),t}(s.a.Component),L=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={instances:[],activeTooltip:"",activeInfo:"",selectedClass:"",selectedSpec:"",selectedItem:"",loading:!1},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.test()}},{key:"findClass",value:function(e){return function(t){return t.id===e}}},{key:"findSpec",value:function(e){return function(t){return t.id===e}}},{key:"test",value:function(){var e=this;fetch("./data.json").then(function(e){return e.json()}).then(function(t){var n=[{class:1,spec:1},{class:2,spec:3},{class:2,spec:4}],a=[];for(var s in n){var i=t.find(e.findClass(n[s].class)).specs.find(e.findSpec(n[s].spec));for(var c in i.slots){var r=function(e){var t=i.slots[c].items[e];if(t.bossId){var n={bossId:t.bossId,itemId:t.itemId,itemName:t.itemName,dropRate:t.dropRate,quality:t.quality,icon:t.icon,specIcon:i.img},s=a.find(function(e){return e.itemId===t.itemId});s?s.specIcon2=i.img:a.push(n)}};for(var l in i.slots[c].items)r(l)}}fetch("./instances.json").then(function(e){return e.json()}).then(function(t){t.forEach(function(e){return e.bosses.slice().reverse().forEach(function(t,n,s){return a.find(function(e){return e.bossId===t.id})?t.items=a.filter(function(e){return e.bossId===t.id}):e.bosses.splice(s.length-1-n,1)})}),e.setState({instances:t})})})}},{key:"render",value:function(){return s.a.createElement("div",{className:"App"},s.a.createElement(w,{instances:this.state.instances}))}}]),t}(s.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var T=n(12),x=s.a.createElement(T.Locations,null,s.a.createElement(T.Location,{path:"/",handler:S}),s.a.createElement(T.Location,{path:"/loot",handler:L}));c.a.render(x,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[23,1,2]]]);
//# sourceMappingURL=main.b0d5a809.chunk.js.map